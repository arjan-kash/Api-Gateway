"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var express=require("express"),multer=require("multer"),path=require("path"),bodyParser=require("body-parser"),ROUTER=express.Router();ROUTER.use(bodyParser.json()),ROUTER.use(bodyParser.urlencoded({extended:!1}));var DIR="",fileName="",storage=multer.diskStorage({destination:function(e,r,o){o(null,DIR=path.join(__dirname,"../assets/","uploads/"))},filename:function(e,r,o){o(null,fileName="profile_"+Date.now()+"_"+r.originalname)}}),upload=multer({storage:storage});ROUTER.post("/profile",upload.single("file"),function(e,r){if(r.setHeader("Content-Type","multipart/form-data; boundary=XXX"),console.log(e.body),console.log(e.file),e.files){o=DIR+"/"+fileName;return console.log(o),r.send({success:!0,file:fileName})}console.log("No file received");var o=DIR+"/"+fileName;return console.log(o),r.send({success:!1})}),module.exports=ROUTER;